name: 'Check comment'
#Establishing the event when workflow is triggered
on:
  pull_request:
    branches: [ "main" ]
#This workflow has ine job that contains multiple steps
jobs:
  custom-action-try:
    name: Check comment with custom action
    runs-on: ubuntu-latest
    steps:
      #Second step: get last commit message and save it to a variable
      - name: Get last commit message
        id: lastCommit
        run: |
          LAST_COMMIT_MESSAGE=$(git log -1 --pretty=format:%B)
          echo "last_commit_message=$LAST_COMMIT_MESSAGE" >> $GITHUB_ENV
      #Third step: call custom action to check message format 
      - name: check message
        uses: alezhuu/check-message-action@main
        # Pass to the action last commit message and a string that a message should begin with 
        with:
          message:  ${{ env.last_commit_message }}
          message_beginning: "#Esto es un ejemplo"

